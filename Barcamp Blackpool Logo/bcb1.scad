
// Module names are of the form poly_<inkscape-path-id>().  As a result,
// you can associate a polygon in this OpenSCAD program with the corresponding
// SVG element in the Inkscape document by looking for the XML element with
// the attribute id="inkscape-path-id".

// fudge value is used to ensure that subtracted solids are a tad taller
// in the z dimension than the polygon being subtracted from.  This helps
// keep the resulting .stl file manifold.
fudge = 0.1;

module flame(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    difference()
    {
       linear_extrude(height=h)
         polygon([[116.885926,24.259297],[106.823426,43.519297],[92.620926,54.185547],[84.571707,36.785391],[90.289676,17.171797],[99.072019,-1.666328],[101.962176,-21.843203],[90.232019,-38.254616],[71.300926,-47.440703],[74.367957,-22.072578],[61.877176,-1.361953],[38.614207,2.243203],[19.923426,-10.174453],[22.271707,-31.953353],[34.933426,-50.523203],[44.353582,-71.445703],[37.653426,-90.808203],[18.900613,-93.642266],[0.250926,-96.208203],[-10.739699,-113.375853],[-9.242824,-134.628203],[-13.896262,-130.035853],[-18.247824,-125.166953],[-24.309231,-114.670853],[-25.620324,-102.761953],[-22.025012,-93.603516],[-15.862824,-85.890703],[-8.068762,-79.333666],[-2.327824,-71.110703],[-1.640324,-62.196641],[-4.207824,-53.606953],[-17.174543,-38.462416],[-35.919074,-32.669453],[-45.300012,-36.404453],[-52.369074,-43.855703],[-55.547981,-50.702728],[-57.771574,-61.195703],[-70.107824,-17.175703],[-65.013287,5.258359],[-63.454074,27.840547],[-76.209537,38.247578],[-92.061574,29.024297],[-100.862349,9.354922],[-101.747824,-12.474453],[-108.985012,3.313672],[-114.656574,19.724297],[-118.906637,46.832397],[-115.965349,70.250408],[-106.838824,90.002643],[-92.533174,106.113418],[-74.054487,118.607047],[-52.408874,127.507844],[-28.602431,132.840124],[-3.641262,134.628203],[21.468529,132.896393],[45.720843,127.669011],[68.109574,118.970371],[87.628621,106.824785],[103.271882,91.256571],[114.033254,72.290042],[118.906637,49.949512]]);
       translate([0, 0, -fudge])
         linear_extrude(height=h+2*fudge)
           polygon([[63.834676,102.616797],[48.924734,111.549099],[30.922081,118.047321],[13.911339,121.974062],[-3.716574,123.134297],[-22.041574,121.759043],[-39.783449,117.683203],[-56.701262,110.981660],[-72.554074,101.729297],[-73.939074,94.223047],[-66.431574,92.841797],[-51.988214,101.270547],[-36.575012,107.375234],[-20.411339,111.087891],[-3.716574,112.340547],[12.627293,111.139922],[28.475926,107.581484],[43.613933,101.730391],[57.825926,93.651797],[65.312176,95.129297]]);
       translate([0, 0, -fudge])
         linear_extrude(height=h+2*fudge)
           polygon([[-60.260324,74.349297],[-52.754074,72.966797],[-41.464192,79.557031],[-29.413762,84.329922],[-16.774113,87.232499],[-3.716574,88.211797],[9.062167,87.272792],[21.453923,84.489969],[33.289804,79.914624],[44.400926,73.598047],[51.888426,75.076797],[50.414676,82.563047],[37.912644,89.670312],[24.596863,94.817734],[10.657176,97.948125],[-3.716574,99.004297],[-18.403352,97.902422],[-32.621731,94.636797],[-46.178469,89.267422],[-58.880324,81.854297],[-60.260324,74.349297]]);
       translate([0, 0, -fudge])
         linear_extrude(height=h+2*fudge)
           polygon([[-45.924074,53.508047],[-38.416574,52.128047],[-30.421964,56.797734],[-21.892512,60.180234],[-12.950091,62.237578],[-3.716574,62.931797],[5.324441,62.267032],[14.094051,60.296797],[22.472723,57.057188],[30.340926,52.584297],[37.828426,54.060547],[36.352176,61.548047],[27.093978,66.812282],[17.236208,70.624798],[6.919234,72.943313],[-3.716574,73.725547],[-14.645933,73.388617],[-25.767133,70.076664],[-35.848676,66.212362],[-44.544074,61.014297]]);
    }
  }
}

module tower(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[44.381250,200.725625],[19.417500,-66.984375],[25.800000,-76.135625],[28.370489,-84.586725],[28.886094,-97.770313],[28.413340,-109.913750],[28.018750,-115.244375],[22.196250,-120.515625],[22.196250,-123.288125],[19.142500,-123.011875],[19.142500,-137.990625],[14.981250,-138.543125],[14.706250,-152.689375],[12.486250,-152.413125],[11.653750,-157.404375],[9.715000,-158.514375],[9.715000,-172.659375],[6.937500,-173.769375],[6.661250,-177.929375],[2.223750,-178.763125],[2.223750,-182.923125],[4.721250,-187.084375],[2.777500,-192.908125],[0.560000,-200.396875],[0.223750,-200.815625],[0.223750,-199.068125],[-0.240000,-199.068125],[-0.240000,-200.810625],[-0.550000,-200.396875],[-2.771250,-192.908125],[-4.711250,-187.084375],[-2.213750,-182.923125],[-2.213750,-178.763125],[-6.651250,-177.929375],[-6.932500,-173.769375],[-9.706250,-172.659375],[-9.706250,-158.514375],[-11.643750,-157.404375],[-12.476250,-152.413125],[-14.696250,-152.689375],[-14.971250,-138.543125],[-19.132500,-137.990625],[-19.132500,-123.011875],[-22.186250,-123.288125],[-22.186250,-120.515625],[-28.010000,-115.244375],[-28.404395,-109.913750],[-28.876719,-97.770313],[-28.360684,-84.586713],[-25.790000,-76.135625],[-19.412500,-66.984375],[-44.381250,200.815625]]);
  }
}

scale([0.3, 0.3, 0.5])
{
	difference()
	{
		union()
		{
			translate([0,45,0]) tower(3);
			flame(6);
		}
		translate([20,-20,-1])cylinder(h=8, r=3);
	}
}